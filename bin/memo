#!/usr/bin/env php
<?php
if (PHP_SAPI !== 'cli') {
    echo 'Warning: img2ascii should be invoked via the CLI, not the '.PHP_SAPI.' SAPI'.PHP_EOL;
}
foreach([
    __DIR__ . "/../../../autoload.php",
    __DIR__ . "/../vendor/autoload.php"
] as $file) {
    if (file_exists($file)) {
        require $file;
        break;
    }
}
use Aizuyan\Memo\Command\LsCommand;
use Aizuyan\Memo\Command\CreateCommand;
use Aizuyan\Memo\Command\ChangeCommand;
use Aizuyan\Memo\Command\DelCommand;
use Aizuyan\Memo\Command\AddCommand;
use Aizuyan\Memo\Command\ShowCommand;
use Aizuyan\Memo\Command\DoCommand;
use Aizuyan\Memo\Console\Application;
$app = new Application("cli-memo", "1.0.0");
// 列出所有的备忘录
$cmdShow = new ShowCommand();
$app->add(new LsCommand());
$app->add(new CreateCommand());
$app->add(new ChangeCommand());
$app->add(new DelCommand());
$app->add(new AddCommand());
$app->add($cmdShow);
$app->add(new DoCommand());
$app->setDefaultCommand($cmdShow->getName());
$statue = $app->run();
exit($statue);
